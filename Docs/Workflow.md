# 專案工作流程

v0.0.1, last update：2025/7/27

---

# 概論

你在一個專案下進行工作，使用者將會逐步提出多次需求，每個需求逐步迭代，進而完善專案。為了達成使用者需求，執行多次「Mission」。一個完整的「Mission」由以下部分組成

- Row Idea：使用者的初步需求
- Requirement：經討論溝通後，確認為可具體描述或可量化的目標
- Plan：制定用以實現 Requirement 的可執行方案，包含一個或多個Task
	- Tasks：方案內的多個任務
		- 實際產出，如代碼
		- 相關文件的更新
- Delivery：最終產出的成果，皆包含在代碼庫中並使用git進行版本追蹤，通常包含下面兩項：
	- Output：實質產出的代碼、包含對應文件
	- Asset：其他值得紀錄的輔助文件，例如教訓（lesson learned）或更新的原則等，文件規範將於後續提及

---

# 工作流程三大階段

## I. Plan （計畫階段）

此為和使用者互動最多的階段。
逐步將使用者的粗略需求 Idea 轉換為細部具體目標 Requirement，最終轉為可執行方案 Plan，以供後續「執行」階段使用。
經由討論，一個 Mission 輪廓將從模糊逐漸變得清晰具體。
若以資訊完整度及涵蓋範圍，可再細分為下面幾項子流程：

1. 確認基礎需求 Ideal，產出Requirement
    - 簡潔重複使用者所提出的需求，若有明顯缺失的資訊或指令不明確，可在此時直接提出
2. 分析及建立系統架構設計
    - 依照需求進行初步規劃，檢視是否需要調整專案整體架構，例如新增組件，或修改現有組件之間的關係
    - 此時應針對關聯到的組件範圍，繪製修改前後的架構對比圖（如無法輸出圖片，可使用mermaid 格式），以供使用者確認
    - 若遇以下或類似場景，可直接報告對專案架構無影響，無需等待使用者確認
	    - 使用現成的抽象設計繼續實作
	    - 基於現有同質性的組件進行複製修改
	    - 單純局部邏輯的修改
3. 拆分任務 Task，完成細部Plan
    - 若預計建立多個組件協同實現需求，則各組件應依照合理順序，除了實作外單獨進行測試及文檔撰寫
    - 例如抽象層和實作層，應該拆解為兩個任務分別進行
4. 細節決策
    - 若有多種不同的技術棧、算法、套件等 approach 時，提示你的初步建議
    - 若各選項間性質相似性高，則其他備選方案應一併列出，並簡略敘述差異，說明你選擇的原因
    - 若考慮用新引入的套件，應該先查詢是否有安全性及相容性問題，一併進行評估。若套件管理工具提供audit功能，應適當利用

## II. Execution （執行階段）

- 依照計畫中的 Task 順序逐步執行，每個 Task 需包含下面幾項子流程：
	- 開發、除錯、重構（如有必要）
	    - 主要工作：撰寫代碼以實現當前 Task 。如測試環節發生錯誤，定位問題所在後，應重新分析解決方法，並紀錄問題所在。
  	- Review
	    - 主要工作：檢驗產出成果品質，例如是否符合各種開發原則，或是有算法優化空間。
	- 測試
	    - 主要工作：
			- 撰寫測試程式及設計 Test Case。
			- 運行測試
	    - 注意：
			- 撰寫 Test Case 時應檢查計畫 Task 內容，以確保產出代碼能符合初始需求，同時應分析開發過程產出的代碼邏輯，以確保測試覆蓋率。
			- 測試行為以單元測試為主，減少或避免整合測試。

- 若使用者發現工作方向或成果未如預期時，將會手動取消進行中的工作並進行回滾，然後重新開始新的工作。

## III. Delivery （交付階段）

至此具體成果已經產出，開始執行收尾工作。
1. 驗證
    - 再次檢查實際產出代碼、測試結果等數據資訊，確保滿足計畫需求/目標。
    - 檢查ADR、Caveats以及Mission文件是否正確紀錄及更新。
2. 總結
    - 若有必要，更新專案級別文件，如 README 、 Handbooks
    - 準備 commit message，然後回報使用者。
    - 使用者確認同意後，才能進行下一階段歸檔。
3. 歸檔
    - 刪除測試用的暫存資料，例如中繼檔案（不要刪除測試程式）。
    - 若該類型檔案後續仍需使用，視情況加入 `.gitignore`清單。
    - 將最終成果加入 repository 並建立 commit。

---

# 專案管理要點補充
	1. 使用者的需求可能頻繁修改，因此不使用傳統專案管理方法中的「變更流程」及「生命週期管理」。
	2. 不需考慮 CI/CD 流程。
