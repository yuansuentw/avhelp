# Caveats - 注意事項及血淚教訓

最後更新: 2025/7/28

---

## 技術坑

---

## 行為規範

---

### 血淚教訓

#### 資料庫結構修改災難 (2025/7/28)

**事件**：執行posts/trends表結構修改時，僅執行DDL變更而未進行資料轉換，導致12,159筆posts和30,136筆trends資料完全遺失。

**違反規範**：
- 未遵循BasicPricinples.md第8條：應先報告解決方案，等使用者確認後才執行
- 對「修改結構」需求理解過窄，以為只需DDL修改忽略資料遷移

**核心教訓**：
1. **資料庫操作必須包含完整資料遷移計劃**：任何結構變更都要確保資料完整性
2. **嚴格遵循協作規範**：複雜操作前必須先提出方案並獲得確認
3. **模糊需求主動澄清**：「修改結構」等指令應確認是否包含資料處理
4. **驗證備份完整性**：使用備份前必須確認資料來源和完整性

**記住**：資料庫操作風險極高，資料遺失不可逆，寧可多次確認也不能冒險執行。

#### Agent工作流程過度規劃災難 (2025/7/28)

**事件**：執行"現後端graphql api"任務時，消耗大量token和時間進行多層agent協作，最終僅產出設計文檔，完全沒有實作可運行的API功能。

**違反規範**：
- 過度依賴多層agent傳遞，造成analysis paralysis
- 把完成計畫文檔誤認為完成實際任務
- 缺少實作驗證機制，沒有產出可測試的功能

**核心教訓**：
1. **實作優先原則**：技術需求必須以可運行功能為最終目標，避免過度規劃
2. **MVP驗證機制**：每階段都要產出可測試的最小功能單元，不只是文檔
3. **Agent呼叫策略**：簡單明確的需求直接進入實作，避免不必要的多層分析
4. **進度驗證**：關鍵節點必須確認實際可運行性，而非計畫完整性

**記住**：「能跑的爛代碼」比「完美的設計文檔」更有價值，先讓功能運行起來再優化。

